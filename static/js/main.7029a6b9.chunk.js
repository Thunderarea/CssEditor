(this.webpackJsonpcss_editor=this.webpackJsonpcss_editor||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),s=n(7),a=n.n(s),l=n(1),o=n(2),c=n(4),u=n(3),h=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).handleFileChange=function(e){var t=e.target.files,n=t.length;if(0!==n){var i={html:"",styleSheets:[]},s=0,a=new FileReader;a.onload=function(){var e=a.result;"text/html"===t[s].type?i.html=e:"text/css"===t[s].type&&i.styleSheets.push({name:t[s].name,content:e}),++s<n?a.readAsText(t[s]):r.props.setFiles(i)},a.readAsText(t[s])}},r.handleInspect=function(){var e=!r.state.inspect;r.props.setInspect(e),r.setState({inspect:e})},r.state={inspect:!1},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"app_header"},i.a.createElement("div",null,i.a.createElement("input",{type:"file",multiple:!0,onChange:function(t){return e.handleFileChange(t)}})),i.a.createElement("div",{id:"inspect",onClick:this.handleInspect},i.a.createElement("svg",{width:"1em",height:"100%",viewBox:"0 0 16 16",fill:this.state.inspect?"white":"currentColor",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{fillRule:"evenodd",d:"M1.5 3A1.5 1.5 0 0 1 3 1.5h10A1.5 1.5 0 0 1 14.5 3v5a.5.5 0 0 1-1 0V3a.5.5 0 0 0-.5-.5H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1H3A1.5 1.5 0 0 1 1.5 13V3z"}),i.a.createElement("path",{fillRule:"evenodd",d:"M11.5 6a.5.5 0 0 0-.5-.5H6a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 1 0V6.5H11a.5.5 0 0 0 .5-.5z"}),i.a.createElement("path",{fillRule:"evenodd",d:"M5.646 5.646a.5.5 0 0 0 0 .708l8 8a.5.5 0 0 0 .708-.708l-8-8a.5.5 0 0 0-.708 0z"}))))}}]),n}(i.a.Component),d=n(5),p=n(6),m=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).getBlobURL=function(e,t){var n=new Blob([e],{type:t});return URL.createObjectURL(n)},r.handleClick=function(e){if(r.props.inspect){var t=e.target;t&&r.props.elementsCss({element:t,cssRules:f(t,r.innerIframeDoc)})}},r.removeHighlight=function(){r.innerIframeDoc.removeEventListener("mousedown",r.handleClick),r.innerIframeDoc.removeEventListener("mouseover",r.Highlight),r.innerIframeDoc.removeEventListener("scroll",r.updateHighlightedPosition),r.outerHighlight.current.style.display="none"},r.handleLoad=function(){r.outerIframeDoc=r.outerIframe.current.contentDocument,r.outerIframeDoc.removeChild(r.outerIframeDoc.firstElementChild),r.forceUpdate()},r.getIframeContent=function(){if(""===r.props.files.html)return i.a.createElement("html",{style:{height:"100%",width:"100%"}},i.a.createElement("head",null,i.a.createElement("title",null,"Instructions")),i.a.createElement("body",{style:{backgroundColor:"white",textAlign:"center"}},i.a.createElement("h1",null,"From Scratch",i.a.createElement("sup",{style:{fontSize:"large"}},"BETA")),i.a.createElement("h2",null,"Instructions"),i.a.createElement("div",{style:{width:"fit-content",margin:"auto"}},i.a.createElement("ol",{style:{textAlign:"left"}},i.a.createElement("li",null,'Choose your files from "choose files" button.',i.a.createElement("ul",null,i.a.createElement("li",null,"In your files must be included only one html file and the css files that are linked with the html file"),i.a.createElement("li",null,"All files must be in the same folder"))),i.a.createElement("li",null,"Your html file that you have choose will open"),i.a.createElement("li",null,"Press the inspect button"),i.a.createElement("li",null,"Hover over the elements. Click on to see it's css in the side panel (only the simple style rules. Not import, media rules,keyframes etc)"),i.a.createElement("li",null,"The css editor functions as the browsers developers tools css editor"),i.a.createElement("li",null,"You can change the existing css and add new declarations in the existing classes, ids etc. You cannot edit the selectors")))));return i.a.createElement("html",{style:{height:"100%",width:"100%"}},i.a.createElement("head",null,i.a.createElement("title",null,"Outer Iframe")),i.a.createElement("body",{style:{margin:0,padding:0,height:"100%",width:"100%",overflow:"hidden"}},i.a.createElement("iframe",{title:"inner iframe",src:r.getBlobURL(r.props.files.html,"text/html"),height:"100%",width:"100%",style:{border:"none",margin:0,backgroundColor:"white"},onLoad:function(e){return r.handleInnerLoad(e)},ref:r.innerIframe}),i.a.createElement("div",{id:"highlighter_outer",ref:r.outerHighlight,style:{position:"absolute",display:"none",border:"0 solid rgba(249, 175, 63, 0.69)",backgroundColor:"rgba(251, 245, 61, 0.7)",pointerEvents:"none"}},i.a.createElement("div",{id:"highlighter_inner",ref:r.innerHighlight,style:{height:"100%",width:"100%",border:"0 solid rgba(108, 210, 108, 0.78)",boxSizing:"border-box",backgroundColor:"rgba(99, 183, 255, 0.88)",pointerEvents:"none"}}))))},r.outerIframe=i.a.createRef(),r.innerIframe=i.a.createRef(),r.outerHighlight=i.a.createRef(),r.innerHighlight=i.a.createRef(),r.outerIframeDoc=null,r.innerIframeDoc=null,r.currentHighlighted=null,r.Highlight=r.Highlight.bind(Object(p.a)(r)),r.updateHighlightedPosition=r.updateHighlightedPosition.bind(Object(p.a)(r)),r}return Object(o.a)(n,[{key:"Highlight",value:function(e){if(this.props.inspect){this.currentHighlighted=e.target;var t=e.target.getBoundingClientRect(),n=window.getComputedStyle(e.target);this.outerHighlight.current.style.display="block",this.outerHighlight.current.style.left=t.left-parseInt(n.getPropertyValue("margin-left"))+"px",this.outerHighlight.current.style.top=t.top-parseInt(n.getPropertyValue("margin-top"))+"px",this.outerHighlight.current.style.height=t.height-(parseInt(n.getPropertyValue("border-top-width"))+parseInt(n.getPropertyValue("border-bottom-width")))+"px",this.outerHighlight.current.style.width=t.width-(parseInt(n.getPropertyValue("border-left-width"))+parseInt(n.getPropertyValue("border-right-width")))+"px",this.outerHighlight.current.style.borderTopWidth=n.getPropertyValue("margin-top"),this.outerHighlight.current.style.borderBottomWidth=n.getPropertyValue("margin-bottom"),this.outerHighlight.current.style.borderLeftWidth=n.getPropertyValue("margin-left"),this.outerHighlight.current.style.borderRightWidth=n.getPropertyValue("margin-right"),this.outerHighlight.current.style.paddingTop=n.getPropertyValue("border-top-width"),this.outerHighlight.current.style.paddingBottom=n.getPropertyValue("border-bottom-width"),this.outerHighlight.current.style.paddingLeft=n.getPropertyValue("border-left-width"),this.outerHighlight.current.style.paddingRight=n.getPropertyValue("border-right-width"),this.innerHighlight.current.style.borderTopWidth=n.getPropertyValue("padding-top"),this.innerHighlight.current.style.borderBottomWidth=n.getPropertyValue("padding-bottom"),this.innerHighlight.current.style.borderLeftWidth=n.getPropertyValue("padding-left"),this.innerHighlight.current.style.borderRightWidth=n.getPropertyValue("padding-right")}else this.removeHighlight()}},{key:"updateHighlightedPosition",value:function(){if(this.currentHighlighted){var e=this.currentHighlighted.getBoundingClientRect(),t=window.getComputedStyle(this.currentHighlighted);this.outerHighlight.current.style.left=e.left-parseInt(t.getPropertyValue("margin-left"))+"px",this.outerHighlight.current.style.top=e.top-parseInt(t.getPropertyValue("margin-top"))+"px"}}},{key:"handleInnerLoad",value:function(e){var t=this;this.innerIframeDoc=this.innerIframe.current.contentDocument;var n=this.innerIframeDoc.head.querySelectorAll("link");if(n.length&&this.props.files.styleSheets.length){var r=Object(d.a)(this.props.files.styleSheets),i="",s=[],a=null;n.forEach((function(e){s=e.attributes.href.value.trim().split("/"),i=s[s.length-1];for(var t=0;t<r.length;t++)if(r[t].name===i){(a=document.createElement("style")).id=e.attributes.href.value.trim(),a.textContent=r[t].content,e.parentNode.replaceChild(a,e),r.splice(t,1);break}}))}this.outerIframeDoc.addEventListener("mouseenter",(function(){t.props.inspect&&(t.innerIframeDoc.addEventListener("mousedown",t.handleClick),t.innerIframeDoc.addEventListener("mouseover",t.Highlight),t.innerIframeDoc.addEventListener("scroll",t.updateHighlightedPosition))}),!0),this.outerIframeDoc.addEventListener("mouseleave",this.removeHighlight,!0)}},{key:"shouldComponentUpdate",value:function(e){return e.inspect===this.props.inspect&&(t=e,n=this.props,t.files!==n.files);var t,n}},{key:"componentDidMount",value:function(){this.outerIframe.current.addEventListener("load",this.handleLoad)}},{key:"render",value:function(){var e=this.getIframeContent();return i.a.createElement("iframe",{title:"outer_iframe",id:"outer_iframe",ref:this.outerIframe,srcDoc:"<!DOCTYPE html>"},this.outerIframeDoc&&a.a.createPortal(e,this.outerIframeDoc))}}]),n}(i.a.Component);function f(e,t){for(var n=t.styleSheets,r=e.parentNode,i=[],s=function(t){for(var s=function(s){1===n[t].cssRules[s].type&&n[t].cssRules[s].selectorText.split(",").forEach((function(a){r.querySelectorAll(":scope > "+a.trim()).forEach((function(r){r===e&&i.unshift({fileName:n[t].ownerNode.id,css:n[t].cssRules[s]})}))}))},a=0;a<n[t].cssRules.length;a++)s(a)},a=0;a<n.length;a++)s(a);return i}var g=function(e){var t=0;return e.ctrlKey?67!==e.keyCode&&86!==e.keyCode&&88!==e.keyCode&&e.preventDefault():(13===e.keyCode||186===e.keyCode&&";"===e.key)&&(e.preventDefault(),t=e.keyCode),t},y=function(e){var t=e.target;return e.preventDefault(),t.setAttribute("contenteditable","false"),!t.textContent.trim()},v=function(e){var t=e.target;"true"!==t.contentEditable&&(e.preventDefault(),t.setAttribute("contenteditable","true"),t.focus())},b=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).focusEditableElement=function(e){e.setAttribute("contentEditable","true"),e.focus()},r.state={decClass:"",startComment:"  ",endComment:"",checked:!0},r.DecProperty=i.a.createRef(),r.DecValue=i.a.createRef(),r.Checkbox=i.a.createRef(),r}return Object(o.a)(n,[{key:"propertyKeyListener",value:function(e){if(13===g(e)){var t=e.target;t.textContent.trim()?this.focusEditableElement(this.DecValue.current):t.blur()}}},{key:"valueKeyListener",value:function(e){var t=g(e);13===t?e.target.textContent.trim()?this.props.nextDec(this.props.id):this.focusEditableElement(this.DecProperty.current):186===t&&this.props.nextDec(this.props.id)}},{key:"handleMouse",value:function(e){this.props.EnDisCheckbox(e)}},{key:"handleBlur",value:function(e,t){t?y(e)&&e.relatedTarget!==this.DecProperty.current&&(this.props.remove(this.props.id),this.props.styleObject.removeProperty(this.property)):(y(e)||e.relatedTarget!==this.DecValue.current&&!this.DecValue.current.textContent.trim())&&(this.props.remove(this.props.id),this.props.styleObject.removeProperty(this.property))}},{key:"handleCheckChange",value:function(e){e.target.checked?this.setState({decClass:"",startComment:"  ",endComment:"",checked:!0}):this.setState({decClass:"is_comment",startComment:"  /*",endComment:"*/",checked:!1})}},{key:"handleChange",value:function(){this.props.styleObject.setProperty(this.DecProperty.current.textContent.trim(),this.DecValue.current.textContent.trim(),""),""!==this.props.styleObject.getPropertyValue(this.DecProperty.current.textContent.trim())&&(this.property=this.DecProperty.current.textContent.trim())}},{key:"componentDidMount",value:function(){this.focusEditableElement(this.DecProperty.current),this.property=this.props.property}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return this.props.focused&&this.focusEditableElement(this.DecProperty.current),i.a.createElement("li",{className:"css_declaration "+this.state.decClass},i.a.createElement("span",{className:"space_and_comments start"},this.state.startComment),i.a.createElement("span",{className:"dec_property",spellCheck:"false",contentEditable:"false",ref:this.DecProperty,onKeyDown:function(t){return e.propertyKeyListener(t)},onBlur:function(t){return e.handleBlur(t,!1)},onMouseDown:function(e){return v(e)},onKeyUp:function(){return e.handleChange()}},this.props.property),i.a.createElement("span",null,":\xa0"),i.a.createElement("span",{className:"dec_value",spellCheck:"false",contentEditable:"false",ref:this.DecValue,onKeyDown:function(t){return e.valueKeyListener(t)},onKeyUp:function(){return e.handleChange()},onBlur:function(t){return e.handleBlur(t,!0)},onMouseDown:function(e){return v(e)}},this.props.value),i.a.createElement("span",null,";"),i.a.createElement("span",{className:"space_and_comments end"},this.state.endComment))}}]),n}(i.a.Component),E=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).focusNext=function(e){r.focusedID=e,r.setState({focusSwitch:!r.state.focusSwitch})},r.initializeDeclarations=function(){var e=null,t=[],n=[];r.props.style.split(";").forEach((function(i){""!==i&&(t=i.split(":"),e={id:r.key++,property:t[0].trim(),value:t[1].trim()},n.push(e))})),r.setState({items:n})},r.addDeclaration=function(){var e=Object(d.a)(r.state.items),t={id:r.key,property:"",value:""};r.key++,e.push(t),r.setState({items:e})},r.removeDeclaration=function(e){var t=Object(d.a)(r.state.items);t=r.state.items.filter((function(t){return t.id!==e})),r.setState({items:t})},r.nextDeclaration=function(e){for(var t=r.state.items,n=t.length,i=0;i<n;i++)if(t[i].id===e){++i<n?r.focusNext(r.state.items[i].id):r.addDeclaration();break}},r.EnDisCheckbox=function(e){r.setState({disabled:e})},r.state={disabled:!0,items:[],focusSwitch:!1},r.key=0,r.focusedID=!1,r}return Object(o.a)(n,[{key:"handleMouseDown",value:function(e){var t=e.target;(t.classList.contains("css_rule")||t.classList.contains("css_declarations"))&&document.activeElement.classList.contains("dec_property")&&!document.activeElement.textContent.trim()&&e.preventDefault()}},{key:"handleMouseUp",value:function(e){var t=e.target;(t.classList.contains("css_rule")||t.classList.contains("css_declarations"))&&(e.preventDefault(),document.activeElement.classList.contains("dec_property")&&!document.activeElement.textContent.trim()?document.activeElement.blur():this.addDeclaration())}},{key:"selectorKeyListener",value:function(e){if(13===g(e)){var t=e.target;t.textContent.trim()?this.state.items.length?this.focusNext(this.state.items[0].id):this.addDeclaration():t.blur()}}},{key:"handleBlur",value:function(e){y(e)&&this.props.remove(this.props.id)}},{key:"componentDidUpdate",value:function(){this.focusedID=!1}},{key:"componentDidMount",value:function(){this.initializeDeclarations()}},{key:"render",value:function(){var e,t=this,n=this.state.disabled?"disabled":"enabled";return i.a.createElement("div",{className:"css_rule",onMouseUp:function(e){return t.handleMouseUp(e)},onMouseDown:function(e){return t.handleMouseDown(e)}},i.a.createElement("div",{className:"css_file"},this.props.fileName),i.a.createElement("div",{className:"css_selector_container"},i.a.createElement("span",{className:"css_selector",spellCheck:"false",contentEditable:"false"},this.props.selector),i.a.createElement("span",null,"\xa0{")),i.a.createElement("ol",{className:"css_declarations "+n},this.state.items.map((function(n,r){return e=t.focusedID===n.id,i.a.createElement(b,{key:n.id,id:n.id,property:n.property,value:n.value,focused:e,styleObject:t.props.styleObject,nextDec:t.nextDeclaration,EnDisCheckbox:t.EnDisCheckbox,remove:t.removeDeclaration})}))),i.a.createElement("span",null,"}"))}}]),n}(i.a.Component),C=(n(14),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).removeChild=function(e){var t=Object(d.a)(r.state.items);t=t.filter((function(t){return t.id!==e})),r.setState({items:t})},r.getElementsDescription=function(){var e="";if(r.props.elementsCss.element){var t=r.props.elementsCss.element;e=t.tagName.toLowerCase(),e+=t.id?"#"+t.id:"",t.classList.forEach((function(t){e+="."+t}))}return e},r.state={value:"",items:[]},r.key=0,r}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){var n=this;if(e.elementsCss!==this.props.elementsCss){var r=[],i=null;return e.elementsCss.cssRules.forEach((function(e){i={id:++n.key,fileName:e.fileName,selector:e.css.selectorText,style:e.css.style.cssText,styleObject:e.css.style},r.unshift(i)})),this.setState({items:r}),!1}return t.value!==this.state.value||t.items!==this.state.items}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"css_editor"},i.a.createElement("div",{id:"inspected_element"},this.getElementsDescription()),i.a.createElement("div",{className:"css_rules"},this.state.items.map((function(t){return i.a.createElement(E,{key:t.id,fileName:t.fileName,selector:t.selector,style:t.style,styleObject:t.styleObject,remove:e.removeChild,id:t.id})}))))}}]),n}(i.a.Component)),D=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).setElementsCss=function(e){r.setState({elementsCss:e})},r.state={elementsCss:{element:null,cssRules:[]}},r}return Object(o.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{id:"app_body"},i.a.createElement("div",{id:"side_panel"},i.a.createElement(C,{elementsCss:this.state.elementsCss})),i.a.createElement("div",{id:"preview_container"},i.a.createElement(m,{files:this.props.files,inspect:this.props.inspect,elementsCss:this.setElementsCss})))}}]),n}(i.a.Component),k=(n(15),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setFiles=function(t){e.setState({files:t})},e.setInspect=function(t){e.setState({inspect:t})},e.state={files:{html:"",styleSheets:[]},inspect:!1},e}return Object(o.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{id:"app_container"},i.a.createElement(h,{setFiles:this.setFiles,setInspect:this.setInspect}),i.a.createElement(D,{files:this.state.files,inspect:this.state.inspect}))}}]),n}(i.a.Component));a.a.render(i.a.createElement(k,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.7029a6b9.chunk.js.map